# Auto-Translate-For-Developers
Toolkit to automate translating language files

---

## API & Swagger UI ‚úÖ

This project now includes a Swagger UI for the HTTP API generated by Flasgger.

- Start the app (option A: local env):
  ```bash
  pip install -r requirements.txt
  python src/main.py
  ```
- Start the app (option B: Docker Compose):
  ```bash
  docker compose up --build
  ```

- Open the Swagger UI at: `http://localhost:5000/apidocs` and confirm the `Translate` and `Cache` endpoints appear.

Note: The ARB endpoint (`/translate-file/arb`) supports an optional form field `exclude_optional` (boolean, default: `true`) that controls whether metadata keys starting with `@` are excluded from translation.

Example input (partial ARB):

```json
"collections":"COLLECTIONS",
"@collections": {
  "description": "It's speaking the language of the Gods"
},

"flashCards": "Flash Cards",
"@flashCards": {
  "description": "It's a title"
},

"bannerAds": "Get rid of banner ads forever!",
"@bannerAds":{
  "description": "It's a banner"
}
```

If `exclude_optional=true` (default), output will contain translated values but **no** `@` metadata entries:

```json
"collections": "COLECCIONES",
"flashCards": "Tarjetas flash",
"bannerAds": "¬°Deshazte de los anuncios publicitarios para siempre!"
```

The endpoints themselves were moved into `src/controllers` to keep the app modular and make it simple to add more controllers in the future.

### Cache removal endpoints üîÅ

- **POST /cache/remove-keys** ‚Äî Remove specific cache keys from one or more language cache files.
  - JSON body:
    - `keys` (array[string], required) ‚Äî list of cache keys to remove
    - `languages` (array[string], optional) ‚Äî language codes to target, e.g. `[`"en","es"`]`. If omitted, all cache files are processed.

Example (remove `Hello` from all caches):

```bash
curl -X POST http://localhost:5000/cache/remove-keys \
  -H "Content-Type: application/json" \
  -d '{"keys":["Hello"]}'
```

Example (remove from specific languages):

```bash
curl -X POST http://localhost:5000/cache/remove-keys \
  -H "Content-Type: application/json" \
  -d '{"keys":["Hello"], "languages":["en"]}'
```

